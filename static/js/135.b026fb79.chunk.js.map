{"version":3,"file":"static/js/135.b026fb79.chunk.js","mappings":"4OAIMA,EAAU,IAAIC,EAAAA,EAEL,SAASC,IAAuB,IAAD,EAC5C,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,IAAgB,CAAEC,KAAM,KAAhE,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAS,UAAGF,EAAaG,IAAI,eAApB,QAA+B,GAExCC,GAAWC,EAAAA,EAAAA,OASjBC,EAAAA,EAAAA,YAAU,WACRd,EACGe,iBAAiBL,GACjBM,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAcZ,EAAUY,EAAKC,QAA7B,GACT,GAAE,CAACR,IAYJ,OACE,iCACE,kBAAMS,SAPO,SAAAC,GACfA,EAAEC,iBACFC,QAAQC,IAAI,UACZd,EAAgB,CAAC,EAClB,EAGG,WACE,kBAAOe,SAbI,SAAAJ,IAbU,SAAAb,GACzB,GAAa,KAATA,EACF,OAAOE,EAAgB,CAAC,GAE1BA,EAAgB,CAAEF,KAAAA,GACnB,CAUCkB,CADaL,EAAEM,OAAOC,MAEvB,EAUgCA,MAAOjB,KAClC,mBAAQkB,KAAK,SAAb,wBAEF,wBACGxB,EAAOyB,KAAI,YAA6B,IAA1BC,EAAyB,EAAzBA,GAAIC,EAAqB,EAArBA,eACjB,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKF,GAAMG,MAAO,CAAEC,KAAMtB,GAAlC,SACGmB,KAFID,EAMZ,QAIR,CCrDc,SAASK,IACpB,OAAO,SAACjC,EAAD,GACV,C,qDCCKD,EAAAA,WACJ,cAAe,eACbmC,KAAKpC,QAAUqC,EAAAA,EAAAA,OAAa,CAC1BC,QANW,gCAOXC,OAAQ,CAAEC,QANA,mCAMkBC,MAAO,KAEtC,CAqBA,OArBA,yCAED,WACE,OAAOL,KAAKpC,QAAQW,IAAI,qBACzB,6BAED,SAAamB,GACX,OAAOM,KAAKpC,QAAQW,IAAb,gBAA0BmB,GAClC,8BAED,SAAcA,GACZ,OAAOM,KAAKpC,QAAQW,IAAb,gBAA0BmB,EAA1B,YACR,+BAED,SAAeA,GACb,OAAOM,KAAKpC,QAAQW,IAAb,gBAA0BmB,EAA1B,YACR,iCAED,SAAiBW,GAEf,OADAL,KAAKpC,QAAQ0C,SAASH,OAAOE,MAAQA,EAC9BL,KAAKpC,QAAQW,IAAI,eACzB,OA3BGV,GA8BN,K","sources":["components/SearchFormMovieList/SearchFormMovieList.jsx","pages/Movies/Movies.jsx","service/api.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport API from 'service/api';\n\nconst service = new API();\n\nexport default function SearchFormMovieList() {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams({ name: '' });\n  const movieName = searchParams.get('name') ?? '';\n\n  const location = useLocation();\n\n  const updateSearchParams = name => {\n    if (name === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ name });\n  };\n\n  useEffect(() => {\n    service\n      .getMoviesByTitle(movieName)\n      .then(({ data }) => setMovies(data.results));\n  }, [movieName]);\n\n  const onChange = e => {\n    const name = e.target.value;\n    updateSearchParams(name);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    console.log('submit');\n    setSearchParams({});\n  };\n  return (\n    <>\n      <form onSubmit={onSubmit}>\n        <input onChange={onChange} value={movieName} />\n        <button type=\"submit\">Search</button>\n      </form>\n      <ul>\n        {movies.map(({ id, original_title }) => {\n          return (\n            <li key={id}>\n              <Link to={`${id}`} state={{ from: location }}>\n                {original_title}\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n    </>\n  );\n}\n","import SearchFormMovieList from 'components/SearchFormMovieList'\n\nexport default function Movies() {\n    return <SearchFormMovieList/>\n}","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '79fb62b7e77dc5ee41dd0c1332d74198';\n\nclass API {\n  constructor() {\n    this.service = axios.create({\n      baseURL: BASE_URL,\n      params: { api_key: API_KEY, query: '' },\n    });\n  }\n\n  getTrendingMovies() {\n    return this.service.get('trending/movie/day');\n  }\n\n  getMovieById(id) {\n    return this.service.get(`movie/${id}`);\n  }\n\n  getActorsById(id) {\n    return this.service.get(`movie/${id}/credits`);\n  }\n\n  getReviewsById(id) {\n    return this.service.get(`movie/${id}/reviews`);\n  }\n\n  getMoviesByTitle(query) {\n    this.service.defaults.params.query = query;\n    return this.service.get('search/movie')\n  }\n}\n\nexport default API;\n"],"names":["service","API","SearchFormMovieList","useState","movies","setMovies","useSearchParams","name","searchParams","setSearchParams","movieName","get","location","useLocation","useEffect","getMoviesByTitle","then","data","results","onSubmit","e","preventDefault","console","log","onChange","updateSearchParams","target","value","type","map","id","original_title","to","state","from","Movies","this","axios","baseURL","params","api_key","query","defaults"],"sourceRoot":""}